<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.score_system1.mapper.ScoreMapper">

    <!-- 插入成绩信息 -->
    <insert id="insertScore" parameterType="com.example.score_system1.entity.Score" useGeneratedKeys="true" keyProperty="scoreId">
        INSERT INTO Score (Daily_score, Exam_score, Total_score, Credit_gain_condition, [Make-up_exam], St_id, C_id)
        VALUES (#{dailyScore}, #{examScore}, #{totalScore}, #{creditGainCondition}, #{makeUpExam}, #{stId}, #{cId})
    </insert>

    <!-- 根据成绩 ID 查询成绩信息 -->
    <select id="selectScoreById" parameterType="String" resultType="com.example.score_system1.entity.Score">
        SELECT * FROM Score WHERE Score_id = #{scoreId}
    </select>

    <!-- 根据学生 ID 查询成绩信息 -->
    <select id="selectScoresByStudentId" parameterType="String" resultType="com.example.score_system1.entity.Score">
        SELECT * FROM Score WHERE St_id = #{stId}
    </select>

    <!-- 根据课程 ID 查询成绩信息 -->
    <select id="selectScoresByCourseId" parameterType="String" resultType="com.example.score_system1.entity.Score">
        SELECT * FROM Score WHERE C_id = #{cId}
    </select>

    <!-- 更新成绩信息 -->
    <update id="updateScore" parameterType="com.example.score_system1.entity.Score">
        UPDATE Score
        SET Daily_score = #{dailyScore}, Exam_score = #{examScore}, Total_score = #{totalScore},
            Credit_gain_condition = #{creditGainCondition}, [Make-up_exam] = #{makeUpExam}
        WHERE Score_id = #{scoreId}
    </update>

    <!-- 删除成绩信息 -->
    <delete id="deleteScore" parameterType="String">
        DELETE FROM Score WHERE Score_id = #{scoreId}
    </delete>

    <!-- 分页查询所有成绩信息 -->
    <select id="selectAllScores" parameterType="map" resultType="com.example.score_system1.entity.Score">
        SELECT * FROM Score
        ORDER BY Score_id
    </select>

</mapper>